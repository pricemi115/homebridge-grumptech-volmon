<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>spawnHelper.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/pricemi115/homebridge-grumptech-volmon" target="_blank" >GrumpTech</a></h2><h3>Modules</h3><ul><li><a href="module-SpawnHelperModule.html">SpawnHelperModule</a></li><li><a href="module-VolumeDataModule.html">VolumeDataModule</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-VolumeDataModule.html#.CONVERSION_BASES">CONVERSION_BASES</a></li><li data-type='member' style='display: none;'><a href="module-VolumeDataModule.html#.VOLUME_TYPES">VOLUME_TYPES</a></li><li data-type='member' style='display: none;'><a href="module-VolumeDataModule.html#~_debug">_debug</a></li><li data-type='member' style='display: none;'><a href="module-VolumeDataModule.html#~BLOCK_1K_TO_BYTES">BLOCK_1K_TO_BYTES</a></li><li data-type='member' style='display: none;'><a href="module-VolumeDataModule.html#~BYTES_TO_GB_BASE2">BYTES_TO_GB_BASE2</a></li><li data-type='member' style='display: none;'><a href="module-VolumeDataModule.html#~BYTES_TO_GB_BASE10">BYTES_TO_GB_BASE10</a></li></ul></li><li><a href="module-VolumeInterrogatorBaseModule.html">VolumeInterrogatorBaseModule</a></li><li><a href="module-VolumeInterrogatorDarwinModule.html">VolumeInterrogatorDarwinModule</a></li><li><a href="module-VolumeInterrogatorLinuxModule.html">VolumeInterrogatorLinuxModule</a></li><li><a href="module-VolumeMonitorModule.html">VolumeMonitorModule</a></li><li><a href="module-VolumeWatcherModule.html">VolumeWatcherModule</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-VolumeWatcherModule.html#.VOLUME_CHANGE_DETECTION_BITMASK_DEF">VOLUME_CHANGE_DETECTION_BITMASK_DEF</a></li><li data-type='member' style='display: none;'><a href="module-VolumeWatcherModule.html#.VOLUME_WATCHER_EVENTS">VOLUME_WATCHER_EVENTS</a></li><li data-type='member' style='display: none;'><a href="module-VolumeWatcherModule.html#~_debug_process">_debug_process</a></li><li data-type='member' style='display: none;'><a href="module-VolumeWatcherModule.html#~INVALID_TIMEOUT_ID">INVALID_TIMEOUT_ID</a></li><li data-type='member' style='display: none;'><a href="module-VolumeWatcherModule.html#~RESCAN_PERIOD_MS">RESCAN_PERIOD_MS</a></li></ul></li></ul><h3>Events</h3><ul><li><a href="module-SpawnHelperModule.html#event:event:complete">complete</a></li><li><a href="module-VolumeInterrogatorBaseModule.html#event:event:ready">ready</a></li><li><a href="module-VolumeInterrogatorBaseModule.html#event:event:scanning">scanning</a></li><li><a href="module-VolumeWatcherModule.html#event:event:change_detected">change_detected</a></li><li><a href="module-VolumeWatcherModule.html#event:event:watch_add_result">watch_add_result</a></li></ul><h3>Classes</h3><ul><li><a href="module-SpawnHelperModule.SpawnHelper.html">SpawnHelper</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-SpawnHelperModule.SpawnHelper.html#_process_close">_process_close</a></li><li data-type='method' style='display: none;'><a href="module-SpawnHelperModule.SpawnHelper.html#_process_error">_process_error</a></li><li data-type='method' style='display: none;'><a href="module-SpawnHelperModule.SpawnHelper.html#_process_message">_process_message</a></li><li data-type='method' style='display: none;'><a href="module-SpawnHelperModule.SpawnHelper.html#_process_stderror_data">_process_stderror_data</a></li><li data-type='method' style='display: none;'><a href="module-SpawnHelperModule.SpawnHelper.html#_process_stdout_data">_process_stdout_data</a></li><li data-type='method' style='display: none;'><a href="module-SpawnHelperModule.SpawnHelper.html#Spawn">Spawn</a></li></ul></li><li><a href="module-VolumeDataModule.VolumeData.html">VolumeData</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-VolumeDataModule.VolumeData.html#.ConvertFrom1KBlockaToBytes">ConvertFrom1KBlockaToBytes</a></li><li data-type='method' style='display: none;'><a href="module-VolumeDataModule.VolumeData.html#.ConvertFromBytesToGB">ConvertFromBytesToGB</a></li><li data-type='method' style='display: none;'><a href="module-VolumeDataModule.VolumeData.html#IsMatch">IsMatch</a></li></ul></li><li><a href="module-VolumeInterrogatorBaseModule.VolumeInterrogatorBase.html">VolumeInterrogatorBase</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorBaseModule.VolumeInterrogatorBase.html#._validateVolumeCustomization">_validateVolumeCustomization</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorBaseModule.VolumeInterrogatorBase.html#._validateVolumeExclusionMask">_validateVolumeExclusionMask</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorBaseModule.VolumeInterrogatorBase.html#_determineLowSpaceAlert">_determineLowSpaceAlert</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorBaseModule.VolumeInterrogatorBase.html#_doReset">_doReset</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorBaseModule.VolumeInterrogatorBase.html#_handleVolumeWatcherAdded">_handleVolumeWatcherAdded</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorBaseModule.VolumeInterrogatorBase.html#_handleVolumeWatcherChangeDetected">_handleVolumeWatcherChangeDetected</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorBaseModule.VolumeInterrogatorBase.html#_initiateInterrogation">_initiateInterrogation</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorBaseModule.VolumeInterrogatorBase.html#_isVolumeShown">_isVolumeShown</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorBaseModule.VolumeInterrogatorBase.html#_on_initiateCheck">_on_initiateCheck</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorBaseModule.VolumeInterrogatorBase.html#_on_reset_check">_on_reset_check</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorBaseModule.VolumeInterrogatorBase.html#_updateCheckInProgress">_updateCheckInProgress</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorBaseModule.VolumeInterrogatorBase.html#Start">Start</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorBaseModule.VolumeInterrogatorBase.html#Stop">Stop</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorBaseModule.VolumeInterrogatorBase.html#Terminate">Terminate</a></li></ul></li><li><a href="module-VolumeInterrogatorDarwinModule.VolumeInterrogator_darwin.html">VolumeInterrogator_darwin</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorDarwinModule.VolumeInterrogator_darwin.html#_apfsDiskIdentifiers">_apfsDiskIdentifiers</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorDarwinModule.VolumeInterrogator_darwin.html#_doReset">_doReset</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorDarwinModule.VolumeInterrogator_darwin.html#_initiateInterrogation">_initiateInterrogation</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorDarwinModule.VolumeInterrogator_darwin.html#_on_df_complete">_on_df_complete</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorDarwinModule.VolumeInterrogator_darwin.html#_on_lsvfs_complete">_on_lsvfs_complete</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorDarwinModule.VolumeInterrogator_darwin.html#_on_process_disk_utilization_stats_complete">_on_process_disk_utilization_stats_complete</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorDarwinModule.VolumeInterrogator_darwin.html#_on_process_diskutil_info_complete">_on_process_diskutil_info_complete</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorDarwinModule.VolumeInterrogator_darwin.html#_on_process_visible_volumes">_on_process_visible_volumes</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorDarwinModule.VolumeInterrogator_darwin.html#_partitionDiskIdentifiers">_partitionDiskIdentifiers</a></li></ul></li><li><a href="module-VolumeInterrogatorLinuxModule.VolumeInterrogator_linux.html">VolumeInterrogator_linux</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorLinuxModule.VolumeInterrogator_linux.html#_doReset">_doReset</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorLinuxModule.VolumeInterrogator_linux.html#_initiateInterrogation">_initiateInterrogation</a></li><li data-type='method' style='display: none;'><a href="module-VolumeInterrogatorLinuxModule.VolumeInterrogator_linux.html#_on_df_complete">_on_df_complete</a></li></ul></li><li><a href="module-VolumeMonitorModule-VolumeInterrogatorPlatform.html">VolumeInterrogatorPlatform</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-VolumeMonitorModule-VolumeInterrogatorPlatform.html#_addBatteryServiceAccessory">_addBatteryServiceAccessory</a></li><li data-type='method' style='display: none;'><a href="module-VolumeMonitorModule-VolumeInterrogatorPlatform.html#_configureAccessory">_configureAccessory</a></li><li data-type='method' style='display: none;'><a href="module-VolumeMonitorModule-VolumeInterrogatorPlatform.html#_destructor">_destructor</a></li><li data-type='method' style='display: none;'><a href="module-VolumeMonitorModule-VolumeInterrogatorPlatform.html#_doInitialization">_doInitialization</a></li><li data-type='method' style='display: none;'><a href="module-VolumeMonitorModule-VolumeInterrogatorPlatform.html#_getAccessoryServiceType">_getAccessoryServiceType</a></li><li data-type='method' style='display: none;'><a href="module-VolumeMonitorModule-VolumeInterrogatorPlatform.html#_getAccessorySwitchState">_getAccessorySwitchState</a></li><li data-type='method' style='display: none;'><a href="module-VolumeMonitorModule-VolumeInterrogatorPlatform.html#_handleOnGet">_handleOnGet</a></li><li data-type='method' style='display: none;'><a href="module-VolumeMonitorModule-VolumeInterrogatorPlatform.html#_handleOnSet">_handleOnSet</a></li><li data-type='method' style='display: none;'><a href="module-VolumeMonitorModule-VolumeInterrogatorPlatform.html#_handleVolumeInterrogatorReady">_handleVolumeInterrogatorReady</a></li><li data-type='method' style='display: none;'><a href="module-VolumeMonitorModule-VolumeInterrogatorPlatform.html#_handleVolumeInterrogatorScanning">_handleVolumeInterrogatorScanning</a></li><li data-type='method' style='display: none;'><a href="module-VolumeMonitorModule-VolumeInterrogatorPlatform.html#_removeAccessory">_removeAccessory</a></li><li data-type='method' style='display: none;'><a href="module-VolumeMonitorModule-VolumeInterrogatorPlatform.html#_updateAccessoryInfo">_updateAccessoryInfo</a></li><li data-type='method' style='display: none;'><a href="module-VolumeMonitorModule-VolumeInterrogatorPlatform.html#_updateBatteryServiceAccessory">_updateBatteryServiceAccessory</a></li><li data-type='method' style='display: none;'><a href="module-VolumeMonitorModule-VolumeInterrogatorPlatform.html#configureAccessory">configureAccessory</a></li></ul></li><li><a href="module-VolumeWatcherModule.VolumeWatcher.html">VolumeWatcher</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-VolumeWatcherModule.VolumeWatcher.html#_handleVolumeWatcherChangeDetected">_handleVolumeWatcherChangeDetected</a></li><li data-type='method' style='display: none;'><a href="module-VolumeWatcherModule.VolumeWatcher.html#AddWatches">AddWatches</a></li><li data-type='method' style='display: none;'><a href="module-VolumeWatcherModule.VolumeWatcher.html#DeleteWatch">DeleteWatch</a></li><li data-type='method' style='display: none;'><a href="module-VolumeWatcherModule.VolumeWatcher.html#ListWatches">ListWatches</a></li><li data-type='method' style='display: none;'><a href="module-VolumeWatcherModule.VolumeWatcher.html#Terminate">Terminate</a></li><li data-type='method' style='display: none;'><a href="module-VolumeWatcherModule.VolumeWatcher.html#ValidateAccess">ValidateAccess</a></li></ul></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-license.html">license</a></li><li><a href="tutorial-security.html">security</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">spawnHelper.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @description Wrapper for managing spawned tasks.
 * @copyright 2020
 * @author Mike Price &lt;dev.grumptech@gmail.com>
 * @module SpawnHelperModule
 * @requires debug
 * @see {@link https://github.com/debug-js/debug#readme}
 * @requires events
 * @see {@link https://nodejs.org/dist/latest-v16.x/docs/api/events.html#events}
 * @requires child_process
 * @see {@link https://nodejs.org/dist/latest-v16.x/docs/api/child_process.html}
 */

// External dependencies and imports.
import EventEmitter from 'events';
import _debugModule from 'debug';
import _childProcessModule from 'child_process';

/**
 * @description Function pointer for spawn function.
 * @private
 */
const _spawn = _childProcessModule.spawn;
/**
 * @description Debugging function pointer for runtime related diagnostics.
 * @private
 */
const _debug = new _debugModule('spawn_helper');

// Bind debug to console.log
// eslint-disable-next-line no-console
_debug.log = console.log.bind(console);

/**
 * @description Task Completed notification
 * @event module:SpawnHelperModule#event:complete
 * @type {object}
 * @param {boolean} e.valid - Flag indicating if the spawned task completed successfully.
 * @param {Buffer} e.result - Buffer of result or error data returned by the spawned process.
 * @param {SpawnHelper} e.source - Reference to the spawn helper that raised the notification.
 */
/**
 * @description Wrapper for spawning child process tasks
 * @augments EventEmitter
 * @fires module:SpawnHelperModule#event:complete
 */
export class SpawnHelper extends EventEmitter {
    /**
     * @description Constructor
     * @class
     * @param {object} config - Not used or validated.
     * @throws {TypeError} - Thrown if any configuration data are specified.
     */
    constructor(config) {
        if (config !== undefined) {
            throw new TypeError('SpawnHelper does not use any arguments.');
        }

        // Initialize the base class.
        super();

        // Initialize data members.
        /**
         * @member {string} _command - Spawn request command.
         * @private
         */
        this._command           = undefined;
        /**
         * @member {string[]} _arguments - Spawn request arguments.
         * @private
         */
        this._arguments         = undefined;
        /**
         * @member {string[]} _options - Spawn request options.
         * @private
         */
        this._options           = undefined;
        /**
         * @member {*} _token - Data for special handling when the spawn process completes.
         * @private
         */
        this._token             = undefined;
        /**
         * @member {Buffer} _result_data - Data for the spawned process results.
         * @private
         */
        this._result_data       = undefined;
        /**
         * @member {Buffer} _error_data - Data for the spawned procees error.
         * @private
         */
        this._error_data        = undefined;
        /**
         * @member {boolean} _error_encountered - Flag indicating if any errors were encountered during the process.
         * @private
         */
        this._error_encountered = false;
        /**
         * @member {boolean} _pending - Flag indicating if the spawned process is in progress.
         * @private
         */
        this._pending           = false;

        // Bound Callbacks
        /**
         * @member {Function} _CB__process_stdout_data - Callback for handling the STDOUT data notification.
         * @private
         */
        this._CB__process_stdout_data   = this._process_stdout_data.bind(this);
        /**
         * @member {Function} _CB__process_stderror_data - Callback for handling the STDERR data notification.
         * @private
         */
        this._CB__process_stderror_data = this._process_stderror_data.bind(this);
        /**
         * @member {Function} _CB_process_message - Callback for handling the message notifications.
         * @private
         */
        this._CB_process_message        = this._process_message.bind(this);
        /**
         * @member {Function} _CB_process_error - Callback for handling the error notifications.
         * @private
         */
        this._CB_process_error          = this._process_error.bind(this);
        /**
         * @member {Function} _CB_process_close - Callback for handling the close notification when the spawned process terminates.
         * @private
         */
        this._CB_process_close          = this._process_close.bind(this);
    }

    /**
     * @description Read-only property accessor indicating is the spawned task is in progress.
     * @returns {boolean} - true if the spawned task is in progres.
     */
    get IsPending() {
        return (this._pending);
    }

    /**
     * @description Read-only property accessor the valid flag
     * @returns {boolean} - true if processing completed successfully.
     */
    get IsValid() {
        return ((this._command !== undefined) &amp;&amp;
                !this.IsPending &amp;&amp; !this._error_encountered);
    }

    /**
     * @description Read-only property accessor the result data
     * @returns {Buffer} - Data collected from the spawn process.
     *                     Unreliable and/or undefined if processing was not successful.
     */
    get Result() {
        return (this._result_data);
    }

    /**
     * @description Read-only property accessor the error data
     * @returns {Buffer} - Error data collected from the spawn process.
     *                     Unreliable and/or undefined if processing did not encounter any issues.
     */
    get Error() {
        return (this._error_data);
    }

    /**
     * @description Read-only property accessor the spawn command request
     * @returns {string} - Command request for the spawned process.
     */
    get Command() {
        return (this._command);
    }

    /**
     * @description Read-only property accessor the arguments to the spawn request.
     * @returns {string[]} - Arguments to the spawned process.
     */
    get Arguments() {
        return (this._arguments);
    }

    /**
     * @description Read-only property accessor for the options to the spawn request.
     * @returns {string[]} - Options to the spawned process.
     */
    get Options() {
        return (this._options);
    }

    /**
     * @description Read-only property accessor for the token used to store data for use when the process completes.
     * @returns {any} - Identity token for the spawned process.
     */
    get Token() {
        return (this._token);
    }

    /**
     * @description Initiates a spawned process.
     * @param {object} request -  Configuration data for the spawned request.
     * @param {string} request.command - Spawn request command.
     * @param {string[]} [request.arguments] - Spawn arguments.
     * @param {string[]} [request.options] - Spawn options.
     * @param {object} [request.token] - Spawn token used for special handling when the process completes.
     * @returns {void}
     * @throws {Error} - Thrown if a spawned process is already in progress.
     * @throws {TypeError} - Thrown if the configuration data do not meet expectations.
     */
    Spawn(request) {
        // Ensure a spawn is not already in progress.
        if (this.IsPending) {
            throw new Error('Spawn is already in progress.');
        }

        // Validate the arguments.
        if ((request === undefined) || (typeof(request) !== 'object')) {
            throw new TypeError('request must be an obkect');
        }
        // Validate 'required' command request.
        if ((!Object.prototype.hasOwnProperty.call(request, 'command')) ||
            (typeof(request.command) !== 'string') ||
            (request.command.length &lt;= 0)) {
            throw new TypeError('request.command must be a non-zero length string.');
        }
        // If we got this far, then request.command mus be legit.
        this._command = request.command;

        // Validate 'optional' arguments request
        if (Object.prototype.hasOwnProperty.call(request, 'arguments')) {
            if (!Array.isArray(request.arguments)) {
                throw new TypeError('request.arguments must be an array of strings.');
            }
            else {
                for (const arg of request.arguments) {
                    if (typeof(arg) !== 'string') {
                        throw new TypeError('request.arguments must contain only strings.');
                    }
                }
            }
            // If we got this far, then request.arguments must be legit
            this._arguments = request.arguments;
        }
        else {
            // Use default
            this._arguments = [];
        }

        // Validate 'optional' options request
        if (Object.prototype.hasOwnProperty.call(request, 'options')) {
            if (!Array.isArray(request.options)) {
                throw new TypeError('request.options must be an array of strings.');
            }
            else {
                for (const arg of request.options) {
                    if (typeof(arg) !== 'string') {
                        throw new TypeError('request.options must contain only strings.');
                    }
                }
            }
            // If we got this far, then request.options must be legit
            this._options = request.options;
        }
        else {
            // Use default
            this._options = [];
        }

        // Validate 'optional' token request.
        // This object is a client-specified marker that can be used by the client when processing
        // results.
        if (Object.prototype.hasOwnProperty.call(request, 'token')) {
            if (request.token === undefined) {
                throw new TypeError('request.token must be something if it is specified.');
            }
            // If we got this far, then request.info must be legit
            this._token = request.token;
        }
        else {
            // Use default
            this._token = undefined;
        }

        // Reset the internal data
        this._result_data       = undefined;
        this._error_data        = undefined;
        this._error_encountered = false;
        this._pending           = true;  // Think positive :)

        // Spawn the request
        const childProcess = _spawn(this._command, this._arguments, this._options);
        // Register for the stdout.data notifications
        childProcess.stdout.on('data', this._CB__process_stdout_data);
        // Register for the stderr.data notifications
        childProcess.stderr.on('data', this._CB__process_stderror_data);
        // Register for the message notification
        childProcess.on('message', this._CB_process_message);
        // Register for the error notification
        childProcess.on('error', this._CB_process_error);
        // Register for the close notification
        childProcess.on('close', this._CB_process_close);
    }

    /**
     * @description Event handler for the STDOUT Data Notification
     * @param {Buffer | string | any} chunk - Notification data.
     * @returns {void}
     * @private
     */
    _process_stdout_data(chunk) {
        if (this._result_data === undefined) {
            // Initialize the result data
            this._result_data = chunk;
        }
        else {
            // Otherwise, append the chunk.
            this._result_data += chunk;
        }
    }

    /**
     * @description Event handler for the STDERR Data Notification
     * @param {Buffer | string | any} chunk - Notification data.
     * @returns {void}
     * @private
     */
    _process_stderror_data(chunk) {
        if (this._error_data === undefined) {
            // Initialize the result data
            this._error_data = chunk;
        }
        else {
            // Otherwise, append the chunk.
            this._error_data += chunk;
        }

        // Ensure that the error is recorded.
        this._error_encountered = true;
    }

    /**
     * @description Event handler for the Child Process Message Notification
     * @param {object} message - A parsed JSON object or primitive value.
     * @param {object} sendHandle - A net.Socket or net.Server object, or undefined.
     * @returns {void}
     * @private
     * @todo - Not sure if this is needed.
     */
    _process_message(message, sendHandle) {
        _debug(`Child Process for ${this.Command}: '${message}'`);
    }

    /**
     * @description Event handler for the Child Process Error Notification
     * @param {Error} error - The error
     * @returns {void}
     * @private
     */
    _process_error(error) {
        // Log the error info.
        _debug(`Child Process for ${this.Command}: error_num:${error.number} error_name:${error.name} error_msg:${error.message}`);

        // Ensure that the error is recorded.
        this._error_encountered = true;
    }

    /**
     * @description Event handler for the Child Process Close Notification
     * @param {number} code - The exit code if the child exited on its own.
     * @param {string} signal - The signal by which the child process was terminated.
     * @returns {void}
     * @private
     */
    _process_close(code, signal) {
        // Log the close info.
        _debug(`Child Process for ${this.Command}: exit_code:${code} by signal:'${signal}'`);

        // Indicate that we are done.
        this._pending = false;

        // Notify our clients.
        const isValid = this.IsValid;
        // eslint-disable-next-line object-curly-newline
        const response = {valid: isValid, result: (isValid ? this.Result : this.Error), token: this.Token, source: this};
        this.emit('complete', response);
    }
}
export default SpawnHelper;
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.10</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
